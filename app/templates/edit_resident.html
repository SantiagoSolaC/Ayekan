{% extends "base.html" %}

{% block content %}
{{ super() }}
<div class="card">
    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
                <a class="nav-link" aria-current="true" href="{{ url_for('resident_search') }}">Buscar</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('residents_list') }}">Lista</a>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled">Ver</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active">Editar</a>
            </li>
          </ul>
    </div>
    <div class="card-body">
        <h6 class="card-subtitle mb-2 text-muted">Editar Residente</h6>
        <form class="row g-3 needs-validation" method="post" action="/edited_resident">
            <div class="col-md-1" style="display: none;">
                <label for="id" class="form-label">ID</label>
                <input type="text" class="form-control" name="resident_id" readonly value="{{ resident.resident_id }}">
            </div>
            <div class="col-md-2">
                <label for="status" class="form-label">Estado</label>
                <select class="form-select" aria-label="Default select example" name="status" required>
                    <option {{ 'selected' if resident.status == 'Ingresado' else '' }}>Ingresado</option>
                    <option {{ 'selected' if resident.status == 'Baja' else '' }}>Baja</option>
                </select>
            </div>
            <div class="col-md-2">
                <label for="admission_date" class="form-label">Fecha de admisión</label>
                <input type="date" class="form-control" name="admission_date" value="{{ resident.admission_date }}" required>
            </div>
            <div class="col-md-7"></div>
            <div class="col-md-2">
                <label for="nickname" class="form-label">Apodo</label>
                <input type="text" class="form-control" name="nickname" value="{{ resident.nickname }}">
            </div>
            <div class="col-md-5">
                <label for="name" class="form-label">Nombre</label>
                <input type="text" class="form-control" name="name" value="{{ resident.name }}" required>
            </div>
            <div class="col-md-5">
                <label for="last_name" class="form-label">Apellido</label>
                <input type="text" class="form-control" name="last_name" value="{{ resident.last_name }}" required>
            </div>
            <div class="col-md-2">
                <label for="birth_date" class="form-label">Fecha de nacimiento</label>
                <input type="date" class="form-control" name="birth_date" value="{{ resident.birth_date }}">
            </div>
            <div class="col-md-2">
                <label for="age" class="form-label">Edad</label>
                <input type="number" class="form-control" name="age" value="{{ resident.age }}">
            </div>
            <div class="col-md-2">
                <label for="gender" class="form-label">Género</label>
                <select class="form-select" aria-label="Default select example" name="gender">
                    <option {{ 'selected' if resident.gender == 'Masculino' else '' }}>Masculino</option>
                    <option {{ 'selected' if resident.gender == 'Femenino' else '' }}>Femenino</option>
                    <option {{ 'selected' if resident.gender == 'Otro' else '' }}>Otro</option>
                </select>
            </div>
            <div class="col-md-2">
                <label for="citizenship" class="form-label">Ciudadanía</label>
                <input type="text" class="form-control" name="citizenship" value="{{ resident.citizenship }}">
            </div>
            <div class="col-md-2">
                <label for="marital_status" class="form-label">Estado civil</label>
                <input type="text" class="form-control" name="marital_status" value="{{ resident.marital_status }}">
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-6">
                <label for="address" class="form-label">Domicilio</label>
                <input type="text" class="form-control" name="address" value="{{ resident.address }}" required>
            </div>
            <div class="col-md-6">
                <label for="city" class="form-label">Ciudad</label>
                <input type="text" class="form-control" name="city" value="{{ resident.city }}" required>
            </div>
            <div class="col-md-2">
                <label for="id_type" class="form-label">Tipo de documento</label>
                <select class="form-select" aria-label="Default select example" name="id_type">
                    <option {{ 'selected' if resident.id_type == 'DNI' else '' }}>DNI</option>
                    <option {{ 'selected' if resident.id_type == 'LE' else '' }}>LE</option>
                    <option {{ 'selected' if resident.id_type == 'LC' else '' }}>LC</option>
                </select>
            </div>
            <div class="col-md-2">
                <label for="id_number" class="form-label">Número de documento</label>
                <input type="text" class="form-control" name="id_number" value="{{ resident.id_number }}" required>
            </div>
            <div class="col-md-3">
                <label for="prepaid" class="form-label">Obra social</label>
                <input type="text" class="form-control" name="prepaid" value="{{ resident.prepaid }}">
            </div>
            <div class="col-md-3">
                <label for="afiliation_number" class="form-label">Número de afiliado</label>
                <input type="text" class="form-control" name="affiliation_number" value="{{ resident.affiliation_number }}">
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-12"></div>
            <div class="col-12">
                <a href="{{ url_for('resident_search') }}" class="btn btn-primary">Volver</a>
                <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}