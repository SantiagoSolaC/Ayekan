{% extends "base.html" %}

{% block content %}
<div class="card">
    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
              <a class="nav-link active disabled" aria-current="true" aria-disabled="true">Nueva prescipcion</a>
        </ul>
    </div>
    <div class="card-body">
        <h6 class="card-subtitle mb-2 text-muted">Nueva prescripción</h6>
        <form class="row g-3 needs-validation" method="post" action="/prescription_new">
            <!-- <div class="col-md-3">
                <label for="resident_id" class="form-label">Residente</label>
                <input type="text" class="form-control" name="resident_id" value="{{ resident_id }}">
            </div> -->
            <div class="col-md-3">
                <label for="medication_id" class="form-label">Medicación</label>
                <select class="form-select" aria-label="Default select example" name="medication_id">
                    {% for medication in medication_list %}
                        <option value="{{ medication.id }}">{{ medication.commercial_name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-3">
                <label for="administration_route" class="form-label">Vía de administración</label>
                <select class="form-select" aria-label="Default select example" name="administration_route">
                    <option {{ 'selected' if administration_route == 'Capsulas' else '' }}>Capsulas</option>
                    <option {{ 'selected' if administration_route == 'Crema' else '' }}>Crema</option>
                    <option {{ 'selected' if administration_route == 'Dosis' else '' }}>Dosis</option>
                    <option {{ 'selected' if administration_route == 'Gel' else '' }}>Gel</option>
                    <option {{ 'selected' if administration_route == 'Gotas' else '' }}>Gotas</option>
                    <option {{ 'selected' if administration_route == 'Gotas Oftal' else '' }}>Gotas Oftal</option>
                    <option {{ 'selected' if administration_route == 'Gotas Orales' else '' }}>Gotas Orales</option>
                    <option {{ 'selected' if administration_route == 'Inyectable' else '' }}>Inyectable</option>
                    <option {{ 'selected' if administration_route == 'Jarabe' else '' }}>Jarabe</option>
                    <option {{ 'selected' if administration_route == 'Loción' else '' }}>Loción</option>
                    <option {{ 'selected' if administration_route == 'Oral' else '' }}>Oral</option>
                    <option {{ 'selected' if administration_route == 'Paff' else '' }}>Paff</option>
                    <option {{ 'selected' if administration_route == 'Parche' else '' }}>Parche</option>
                    <option {{ 'selected' if administration_route == 'Polvo' else '' }}>Polvo</option>
                    <option {{ 'selected' if administration_route == 'Pomada' else '' }}>Pomada</option>
                    <option {{ 'selected' if administration_route == 'Suplemento' else '' }}>Suplemento</option>
                </select>
            </div>
            <div class="col-md-1">
                <label for="breakfast" class="form-label">Desayuno</label>
                <input type="number" step="0.5" class="form-control" name="breakfast" value="{{ breakfast }}">
            </div>
            <div class="col-md-1">
                <label for="lunch" class="form-label">Almuerzo</label>
                <input type="number" step="0.5" class="form-control" name="lunch" value="{{ lunch }}">
            </div>
            <div class="col-md-1">
                <label for="tea" class="form-label">Merienda</label>
                <input type="number" step="0.5" class="form-control" name="tea" value="{{ tea }}">
            </div>
            <div class="col-md-1">
                <label for="dinner" class="form-label">Cena</label>
                <input type="number" step="0.5" class="form-control" name="dinner" value="{{ dinner }}">
            </div>
            <div class="col-md-2">
                <label for="in_pillbox" class="form-label">En pastillero</label>
                <select class="form-select" aria-label="Default select example" name="in_pillbox">
                    <option {{ 'selected' if in_pillbox == 'SI' else '' }}>SI</option>
                    <option {{ 'selected' if in_pillbox == 'NO' else '' }}>NO</option>
                </select>
            </div>
            <div class="col-md-3">
                <label for="prescription_date" class="form-label">Fecha de prescripción</label>
                <input type="date" class="form-control" name="prescription_date" value="{{ prescription_date }}" required>
            </div>
            <div class="col-md-3">
                <label for="floor" class="form-label">Planta a la que corresponde el residente</label>
                <select class="form-select" aria-label="Default select example" name="floor">
                    <option {{ 'selected' if floor == 'A' else '' }}>A</option>
                    <option {{ 'selected' if floor == 'B' else '' }}>B</option>
                </select>
            </div>
            <div class="col-md-6">
                <label for="notes" class="form-label">Notas</label>
                <textarea class="form-control" name="notes" value="{{ notes }}" rows="3"></textarea>
            </div>
            <div class="col-12">
                <a href="{{ url_for('views.prescription_search') }}" class="btn btn-primary">Volver</a>
                <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}